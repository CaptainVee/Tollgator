{% extends "courses/base.html" %}
{% load static %}

{% block content %}

<!-- breadcrumb start -->
<div class="breadcrumb-nav">
	<div class="container">
	  <nav aria-label="breadcrumb">
		<ol class="breadcrumb mb-0">
		  <li class="breadcrumb-item"><a href="{% url 'course-home' %}">Home</a></li>
		  <li class="breadcrumb-item active" aria-current="page">course details</li>
		</ol>
	  </nav>
	</div>
   </div>
  <!-- breadcrumb start -->
  
  <!-- course details section start -->
   <section class="course-details section-padding">
	<div class="container">
	  <div class="row">
		<div class="col-lg-8">
		  <!-- course header start -->
		  <div class="course-header box">
			<h2 class="text-capitalize">{{ course.title }}</h2>
			<div class="rating">
			  <span class="average-rating">(4.5)</span>
			  <span class="average-stars">
				<i class="fas fa-star"></i>
				<i class="fas fa-star"></i>
				<i class="fas fa-star"></i>
				<i class="fas fa-star-half-alt"></i>
			  </span>
			  <span class="reviews">(230 Reviews)</span>
			</div>
			<ul>
			  <li>enrolled students - <span>220</span></li>
			  <li>created by - <span><a href="">{{ course.author }}</a></span></li>
			  <li>last updated - <span>{{ course.updated_at | date:'F d, Y' }}</span></li>
			  <li>language - <span>english</span></li>
			</ul>
		  </div>
		  <!-- course header end -->
		  <!-- tab start -->
		  <nav class="course-tabs">
			<div class="nav nav-tabs" id="nav-tab" role="tablist">
			  <button class="nav-link active" id="course-curriculum-tab" data-bs-toggle="tab" data-bs-target="#course-curriculum" 
			  type="button" role="tab" aria-controls="course-curriculum" aria-selected="true">curriculum</button>
  
			  <button class="nav-link" id="course-description-tab" data-bs-toggle="tab" data-bs-target="#course-description" 
			  type="button" role="tab" aria-controls="course-description" aria-selected="false">description</button>
  
			  <button class="nav-link" id="course-instructor-tab" data-bs-toggle="tab" data-bs-target="#course-instructor" 
			  type="button" role="tab" aria-controls="course-instructor" aria-selected="false">instructor</button>
  
			  <button class="nav-link" id="course-reviews-tab" data-bs-toggle="tab" data-bs-target="#course-reviews" 
			  type="button" role="tab" aria-controls="course-reviews" aria-selected="false">reviews</button>
			</div>
		  </nav>
		  <!-- tab end -->
  
		  <!-- tab panes start -->
		  <div class="tab-content" id="nav-tabContent">
			<!-- course curriculum start -->
			<div class="tab-pane fade show active" id="course-curriculum" role="tabpanel" aria-labelledby="course-curriculum-tab">
			  <div class="course-curriculum box">
				<h3 class="text-capitalize mb-4">course curriculum</h3>
				<!-- accordion start -->
				<div class="accordion" id="accordion">
				  <!-- accordion item start -->
				  <div class="accordion-item">
					<h2 class="accordion-header" id="heading-1">
					  <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-1" 
					  aria-expanded="true" aria-controls="collapse-1">
						Language basics <span> 2 lessons | 20 min</span>
					  </button>
					</h2>
					<div id="collapse-1" class="accordion-collapse collapse show" aria-labelledby="heading-1" 
					data-bs-parent="#accordionExample">
					  <div class="accordion-body">
						<ul>
						  <li>
							<i class="fas fa-play-circle"></i>
							Lexical structures
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							Types
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							Values
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							Variables
							<span>06:00</span>
						  </li>
						</ul>
					  </div>
					</div>
				  </div>
				  <!-- accordion item end -->
				  <!-- accordion item start -->
				  <div class="accordion-item">
					<h2 class="accordion-header" id="heading-2">
					  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
					  data-bs-target="#collapse-2" aria-expanded="false" aria-controls="collapse-2">
						Types <span> 2 lessons | 20 min</span>
					  </button>
					</h2>
					<div id="collapse-2" class="accordion-collapse collapse" aria-labelledby="heading-2" 
					data-bs-parent="#accordionExample">
					  <div class="accordion-body">
						<ul>
						  <li>
							<i class="fas fa-play-circle"></i>
							Strings
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							Booleans
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							Null and Undefined
							<span>06:00</span>
						  </li>
						</ul>
					  </div>
					</div>
				  </div>
				  <!-- accordion item end -->
				  <!-- accordion item start -->
				  <div class="accordion-item">
					<h2 class="accordion-header" id="heading-3">
					  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
					  data-bs-target="#collapse-3" aria-expanded="false" aria-controls="collapse-3">
						Control structure <span> 2 lessons | 20 min</span>
					  </button>
					</h2>
					<div id="collapse-3" class="accordion-collapse collapse" aria-labelledby="heading-3" 
					data-bs-parent="#accordionExample">
					  <div class="accordion-body">
						<ul>
						  <li>
							<i class="fas fa-play-circle"></i>
							If/else
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
						   Switch
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							Loops
							<span>06:00</span>
						  </li>
						</ul>
					  </div>
					</div>
				  </div>
				  <!-- accordion item end -->
				  <!-- accordion item start -->
				  <div class="accordion-item">
					<h2 class="accordion-header" id="heading-4">
					  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" 
					  data-bs-target="#collapse-4" aria-expanded="false" aria-controls="collapse-4">
						Function <span> 2 lessons | 20 min</span>
					  </button>
					</h2>
					<div id="collapse-4" class="accordion-collapse collapse" aria-labelledby="heading-4" 
					data-bs-parent="#accordionExample">
					  <div class="accordion-body">
						<ul>
						  <li>
							<i class="fas fa-play-circle"></i>
							cow
							<span>06:00</span>
						  </li>
						  <li>
							<i class="fas fa-play-circle"></i>
							goat
							<span>06:00</span>
						  </li>
						  <li>
						</ul>
					  </div>
					</div>
				  </div>
				  <!-- accordion item end -->
				</div>
				<!-- accordion end -->
			  </div>
			</div>
			<!-- course curriculum end -->
			<!-- course description start -->
			<div class="tab-pane fade " id="course-description" role="tabpanel" aria-labelledby="course-description-tab">
			  <div class="course-description box">
				<h3 class="text-capitalize mb-4">Description</h3>
				<p>{{ course.content }}</p>
				<h4>who is this course designed for</h4>
				<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Esse repellat eligendi eos, amet neque magni ipsa ratione 
				  beatae velit necessitatibus quas assumenda obcaecati suscipit quae, placeat excepturi dolor quod asperiores?</p>
				<h4>why should you take this course</h4>
				<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Dignissimos accusamus sequi odit incidunt, nobis quasi sunt, 
				  enim quibusdam nihil saepe fugiat itaque architecto, blanditiis alias nam soluta aut ipsum pariatur.</p>
			  </div>
			</div>
			<!-- course description end -->
			<!-- course instructor start -->
			<div class="tab-pane fade" id="course-instructor" role="tabpanel" aria-labelledby="course-instructor-tab">
			  <div class="course-instructor box">
				<h3 class="mb-3 text-capitalize">instructor</h3>
				<div class="instructor-details">
				  <div class="details-wrap d-flex align-items-center flex-wrap">
					<div class="left-box me-4">
					  <div class="img-box">
						<img class="rounded-circle" src="{% static 'img/instructor/1.png' %}" alt="instructor img">
					  </div>
					</div>
					<div class="right-box">
					  <h4>John Doe <span>web developer</span></h4>
					  <ul>
						<li><i class="fas fa-star"></i> 4.5 Rating</li>
						<li><i class="fas fa-play-circle"></i> 10 Courses</li>
						<li><i class="fas fa-certificate"></i> 3000 Reviews</li>
					  </ul>
					</div>
				  </div>
				  <div class="text mb-0">
					<p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Voluptatem modi quod eum molestiae
					  provident nobis voluptates, eaque recusandae reiciendis nihil atque, excepturi iste aliquam labore 
					  sapiente laborum distinctio ratione quos eligendi dolor! Ipsum provident repellat quidem dolor error 
					  illo incidunt ad reprehenderit totam in, necessitatibus numquam, voluptate ex quod. Harum?</p>
				  </div>
				</div>
			  </div>
			</div>
			<!-- course instructor end -->
			<!-- course reviews start -->
			<div class="tab-pane fade " id="course-reviews" role="tabpanel" aria-labelledby="course-reviews-tab">
			  <div class="course-reviews box">
				<!-- rating summary start -->
				<div class="rating-summary">
				  <h3 class="mb-4 text-capitalize">students feedbacks</h3>
				  <div class="row">
					<div class="col-md-4 d-flex align-items-center justify-content-center text-center">
					  <div class="rating-box">
						<div class="average-rating">4.5</div>
						<div class="average-stars">
						  <i class="fas fa-star"></i>
						  <i class="fas fa-star"></i>
						  <i class="fas fa-star"></i>
						  <i class="fas fa-star"></i>
						  <i class="fas fa-star-half-alt"></i>
						</div>
						<div class="reviews">230 Reviews</div>
					  </div>
					</div>
					<div class="col-md-8">
					  <div class="rating-bars">
						<!-- rating bars item start -->
						<div class="rating-bars-item">
						  <div class="star-text">5 Star</div>
						  <div class="progress">
							<div class="progress-bar" style="width: 50%;"></div>
						  </div>
						  <div class="percent">50%
						  </div>
						</div>
						<!-- rating bars item end -->
  
						<!-- rating bars item start -->
						<div class="rating-bars-item">
						  <div class="star-text">4 Star</div>
						  <div class="progress">
							<div class="progress-bar" style="width: 30%;"></div>
						  </div>
						  <div class="percent">30%
						  </div>
						</div>
						<!-- rating bars item end -->
  
						<!-- rating bars item start -->
						<div class="rating-bars-item">
						  <div class="star-text">3 Star</div>
						  <div class="progress">
							<div class="progress-bar" style="width: 10%;"></div>
						  </div>
						  <div class="percent">10%
						  </div>
						</div>
						<!-- rating bars item end -->
  
						<!-- rating bars item start -->
						<div class="rating-bars-item">
						  <div class="star-text">2 Star</div>
						  <div class="progress">
							<div class="progress-bar" style="width: 7%;"></div>
						  </div>
						  <div class="percent">7%
						  </div>
						</div>
						<!-- rating bars item end -->
  
						<!-- rating bars item start -->
						<div class="rating-bars-item">
						  <div class="star-text">1 Star</div>
						  <div class="progress">
							<div class="progress-bar" style="width: 3%;"></div>
						  </div>
						  <div class="percent">3%
						  </div>
						</div>
						<!-- rating bars item end -->
  
					  </div>
					</div>
				  </div>
				</div>
				<!-- rating summary end -->
  
				<!-- reviews filter start -->
				<div class="reviews-filter">
				  <h4 class="mb-4 text-capitalize">reviews</h4>
				  <form action="">
					<div class="group-form">
					  <i class="fas fa-chevron-down select-icon"></i>
					  <select name="" id="" class="form-control">
						<option value="">All Reviews</option>
						<option value="1">1 Star</option>
						<option value="2">2 Star</option>
						<option value="3">3 Star</option>
						<option value="4">4 Star</option>
						<option value="5">5 Star</option>
					  </select>
					</div>
				  </form>
				</div>
				<!-- reviews filter end -->
  
				<!-- reviews list start -->
				<div class="reviews-list">
				  <!-- reviews item start -->
				  <div class="reviews-item">
					<div class="img-box">
					  <img src="{% static 'img/review/1.png' %}" alt="review img">
					</div>
					<h4>John Doe</h4>
					<div class="stars-rating">
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <span class="date">1 week ago</span>
					</div>
					<p>Great work. I learnt a lot from this course.</p>
				  </div>
				  <!-- reviews item end -->
  
				  <!-- reviews item start -->
				  <div class="reviews-item">
					<div class="img-box">
					  <img src="{% static 'img/review/1.png' %}" alt="review img">
					</div>
					<h4>John Doe</h4>
					<div class="stars-rating">
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <span class="date">1 week ago</span>
					</div>
					<p>Great work. I learnt a lot from this course.</p>
				  </div>
				  <!-- reviews item end -->
				  <!-- reviews item start -->
				  <div class="reviews-item">
					<div class="img-box">
					  <img src="{% static 'img/review/1.png' %}" alt="review img">
					</div>
					<h4>John Doe</h4>
					<div class="stars-rating">
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <i class="fas fa-star"></i>
					  <span class="date">1 week ago</span>
					</div>
					<p>Great work. I learnt a lot from this course.</p>
				  </div>
				  <!-- reviews item end -->                
  
				</div>
				<!-- reviews list end -->
  
				<button type="button" class="btn btn-theme">more reviews</button>
  
				
			  </div>
			</div>
			<!-- course reviews end -->
		  </div>
		  <!-- tab panes end -->
  
  
		</div>
		<div class="col-lg-4">
		  <!-- course sidebar start -->
		  <div class="course-sidebar box">
			<div class="img-box position-relative" data-bs-toggle="modal" data-bs-target="#video-modal">
			  <img src="{% static 'img/courses/web-development/3.jpg' %}" class="w-100" alt="course img">
			  <div class="play-icon">
				<i class="fas fa-play"></i>
			  </div>
			  <p class="text-center">Course Preview</p>
			</div>
			<div class="price d-flex align-items-center mb-3">
			  <span class="price-old text-decoration-line-through">$100</span>
			  <span class="price-new">$49</span>
			  <span class="price-discount">51% Off</span>
			</div>
			<h3 class="mb-3">Course Features</h3>
			<ul class="features-list">
			  <li>Total 15 lessons</li>
			  <li>Other features</li>
			  <li>Other features</li>
			  <li>Other features</li>
			</ul>
			<div class="btn-wrap">
			  <button class="btn btn-theme btn-block" type="button">enroll now</button>
			</div>
		  </div>
		  <!-- course sidebar end -->
  
		</div>
	  </div>
	</div>
   </section>
  <!-- course details section end -->
	<article class="media content-section">
		<img class="rounded-circle article-img" src="{{ course.author }}">
	  <div class="media-body">
		    <div class="article-metadata">
		      <a class="mr-2" href="">{{ course.author }}</a>
		      <small class="text-muted">{{ course.date_posted | date:'F d, Y' }}</small>

		      {% if course.pricing.name == "Free" %}
				{% if order.user == request.user %}
					<a class="btn btn-warning" href="{% url 'lesson-list' course_slug=course.slug %}" >Go to course</a><p>You have already enrolled for this course</p>
				{% else %}
					<a class="button" href="{% url 'enroll' course_slug=course.slug %}" >Enroll</a>
				{% endif %}
		      {% else %}
		      	<a class="button" href="" >ADD TO CART</a>
		      {% endif %}
		      
		      {% if course.author == user %}
		      	<div>
		      		<a class="btn info btn-sm mt-1 mb-1" href="{% url 'lesson-create' course_id=course.id %}">Add Lesson</a>
		      		<a class="btn info btn-sm mt-1 mb-1" href="">Update</a>
		      		<a class="btn danger btn-sm mt-1 mb-1" href="">Delete</a>
		      	</div>
		      {% endif %}
		    </div>
		    <br>
		    <br>
		    <h2 class="article-title" >{{ course.title }}</h2>
		    <p class="article-content">{{ course.content }}</p>
			<ol>
			    {% for lesson in course.lessons %}
						<li><a href="{% url 'lesson-list' course_slug=course.slug %}">{{ lesson.title }}</a></li>
						{% for video_lesson in lesson.videos %}
						<p>{{ video_lesson }}</p>
						{% endfor %}
				{% endfor %}
			</ol>
		    </div>
	  </div>
	</article> 

{% endblock content %}